<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPG Dungeon</title>
</head>
<body>
    <script>
        // Registro do jogador
        let player = {
            nome: prompt("Digite seu nome:"),
            hp: 0,
            dano: 0
        };

        let pontos = 20;
        let vida = parseInt(prompt("Distribua os pontos. Quantos pontos deseja em vida? (Máx: " + pontos + ")"));

        while (isNaN(vida) || vida < 0 || vida > pontos) {
            alert("Valor inválido! Insira um número entre 0 e " + pontos);
            vida = parseInt(prompt("Quantos pontos deseja em vida? (Máx: " + pontos + ")"));
        }

        let ataque = pontos - vida;
        player.hp = vida * 100;
        player.dano = ataque * 10;

        alert(`Bem-vindo ${player.nome}! Sua vida: ${player.hp}, Seu dano: ${player.dano}`);

        // Inimigo
        let inimigo = {
            nome: "Goblin",
            hp: 500,
            dano: 50
        };

        alert(`Um ${inimigo.nome} apareceu! Vida: ${inimigo.hp}, Dano: ${inimigo.dano}`);

        // Função de rolar o dado
        function rolarDado() {
            return Math.floor(Math.random() * 6) + 1;
        }

        // Loop de batalha
        while (player.hp > 0 && inimigo.hp > 0) {
            let escolha = prompt("Escolha seu ataque:\nA) Ataque simples\nB) Ataque combo\nC) Ataque especial").toUpperCase();
            let dado = rolarDado();

            if (escolha === "A") {
                alert("Você usou um ataque simples!");
                inimigo.hp -= player.dano;
            } else if (escolha === "B" && dado > 2) {
                alert("Você usou um ataque combo!");
                inimigo.hp -= Math.floor(player.dano * 1.5);
            } else if (escolha === "C" && dado > 3) {
                alert("Você usou um ataque especial!");
                inimigo.hp -= player.dano * 2;
            } else {
                alert("Seu ataque falhou!");
            }

            if (inimigo.hp > 0) {
                alert(`${inimigo.nome} ataca!`);
                player.hp -= inimigo.dano;
            }

            alert(`${player.nome} - Vida: ${player.hp}\n${inimigo.nome} - Vida: ${inimigo.hp}`);
        }

        if (player.hp <= 0) {
            alert("Você morreu! Game Over.");
        } else {
            alert(`Você derrotou o ${inimigo.nome}! Parabéns!`);
        }
    </script>
</body>
</html>